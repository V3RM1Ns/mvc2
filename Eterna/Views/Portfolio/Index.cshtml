@model List<Eterna.Models.Portfolio>

@{
    ViewData["Title"] = "Portfolio";
    Layout = "_Layout";
}

<!-- Page Title -->
<div class="page-title" data-aos="fade">
  <div class="container">
    <nav class="breadcrumbs">
      <ol>
        <li><a asp-controller="Home" asp-action="Index">Home</a></li>
        <li class="current">Portfolio</li>
      </ol>
    </nav>
    <h1>Portfolio</h1>
  </div>
</div><!-- End Page Title -->

<!-- Portfolio Section -->
<section id="portfolio" class="portfolio section">

  <div class="container">

    <div class="isotope-layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">

      <ul class="portfolio-filters isotope-filters" data-aos="fade-up" data-aos-delay="100">
        <li data-filter="*" class="filter-active">All</li>
        @if(Model != null && Model.Any())
        {
            var categories = Model.Select(p => p.Category).Distinct().ToList();
            foreach(var category in categories)
            {
                if(category != null)
                {
                    <li data-filter=".filter-@category.Name.ToLower().Replace(" ", "-")">@category.Name</li>
                }
            }
        }
      </ul><!-- End Portfolio Filters -->

      <div class="row gy-4 isotope-container" data-aos="fade-up" data-aos-delay="200">

        @if(Model != null && Model.Any())
        {
            foreach(var portfolio in Model)
            {
                <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-@(portfolio.Category?.Name?.ToLower().Replace(" ", "-") ?? "uncategorized")">
                  <div class="portfolio-content h-100">
                    <img src="~/assets/img/portfolio/@portfolio.ImageUrl" class="img-fluid" alt="@portfolio.Title">
                    <div class="portfolio-info">
                      <h4>@portfolio.Title</h4>
                      <p>@portfolio.Description</p>
                      <a href="~/assets/img/portfolio/@portfolio.ImageUrl" title="@portfolio.Title" data-gallery="portfolio-gallery-@(portfolio.Category?.Name?.ToLower().Replace(" ", "-") ?? "general")" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                      <a asp-action="Details" asp-route-id="@portfolio.Id" title="More Details" class="details-link"><i class="bi bi-link-45deg"></i></a>
                    </div>
                  </div>
                </div><!-- End Portfolio Item -->
            }
        }
        else
        {
            <!-- Default static content when no data available -->
            <div class="col-lg-4 col-md-6 portfolio-item isotope-item filter-app">
              <div class="portfolio-content h-100">
                <img src="~/assets/img/portfolio/portfolio-1.webp" class="img-fluid" alt="">
                <div class="portfolio-info">
                  <h4>Sample App 1</h4>
                  <p>Lorem ipsum, dolor sit amet consectetur</p>
                  <a href="~/assets/img/portfolio/portfolio-1.webp" title="App 1" data-gallery="portfolio-gallery-app" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                  <a href="#" title="More Details" class="details-link"><i class="bi bi-link-45deg"></i></a>
                </div>
              </div>
            </div><!-- End Portfolio Item -->
        }

      </div>

    </div>

  </div>

</section><!-- End Portfolio Section -->

<!-- Clients Section -->
<section id="clients" class="section clients">

  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Clients</h2>
    <p>Necessitatibus eius consequatur ex aliquid fuga eum quidem sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas</p>
  </div><!-- End Section Title -->

  <div class="container" data-aos="fade-up" data-aos-delay="100">

    <div class="swiper init-swiper">
      <script type="application/json" class="swiper-config">
        {
          "loop": true,
          "speed": 600,
          "autoplay": {
            "delay": 5000
          },
          "slidesPerView": "auto",
          "pagination": {
            "el": ".swiper-pagination",
            "type": "bullets",
            "clickable": true
          },
          "breakpoints": {
            "320": {
              "slidesPerView": 2,
              "spaceBetween": 40
            },
            "480": {
              "slidesPerView": 3,
              "spaceBetween": 60
            },
            "640": {
              "slidesPerView": 4,
              "spaceBetween": 80
            },
            "992": {
              "slidesPerView": 6,
              "spaceBetween": 120
            }
          }
        }
      </script>
      <div class="swiper-wrapper align-items-center">
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-1.webp" class="img-fluid" alt=""></div>
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-2.webp" class="img-fluid" alt=""></div>
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-3.webp" class="img-fluid" alt=""></div>
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-4.webp" class="img-fluid" alt=""></div>
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-5.webp" class="img-fluid" alt=""></div>
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-6.webp" class="img-fluid" alt=""></div>
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-7.webp" class="img-fluid" alt=""></div>
        <div class="swiper-slide"><img src="~/assets/img/clients/clients-8.webp" class="img-fluid" alt=""></div>
      </div>
      <div class="swiper-pagination"></div>
    </div>

  </div>

</section><!-- /Clients Section -->
